---
icon: pen-to-square
date: 2024-12-29
category:
  - 培训
  - ESP32
tag:
  - ESP32S3
  - ESP32
  - ESP
order: 1  # 这是侧边栏的顺序
---

# 外部中断与定时器

## 1 外部中断

### 1.1 什么是中断

- 在单片机系统中，中断是一种机制。它允许单片机在执行正常程序的过程中，暂停当前的任务，转而去处理其它更为紧急或者有更高优先级的事件。当这个紧急事件处理完毕后，单片机又能够回到原来被中断的地方，继续执行之前的程序，就好像被打断的工作又重新开始一样。
- 例如，想象你正在房间里看书（这就相当于单片机在执行主程序），突然电话铃响了（这就是一个中断事件）。你放下书本去接电话（处理中断），接完电话后，你又能回到刚才看书的地方继续阅读（返回主程序）。

### 1.2 外部中断介绍

- 外部中断是指由单片机外部设备或信号触发的中断。它提供了一种让单片机能够及时响应外部事件的方式，使单片机可以和外部世界进行有效的交互。
- 外部中断是硬件中断的一种，它由微控制器外部的事件引发。微控制器的某些引脚被设计为对特定事件的发生做出响应，例如按钮的按压、传感器的信号改变等。这些指定的引脚通常被称为“外部中断引脚”。
- 之前做按键实验时，现有代码靠loop循环持续检测 IO 口来读取 GPIO 口输入。若后续添加大量代码，轮询到按键检测部分耗时久、效率低。比如特定场合下，按键可能 1 天才按一次，持续检测浪费大量时间。为解决该问题，引入外部中断概念，即仅在按键按下产生中断时，才执行相关功能。这大幅节省 CPU 资源，所以中断在实际项目中应用广泛 。
- ESP32S3 的外部中断有上升沿触发、下降沿触发、低电平触发、高电平触发模式。上升沿和下降沿触发如下：

### 1.3 外部中断的作用和优势

### 1.4 使用外部中断流程

#### 1.4.1配置引脚

#### 1.4.2将引脚绑定中断服务程序并设置触发中断方式

#### 1.4.3处理中断事件

#### 1.4.4示例代码与现象

## 2. 定时器
